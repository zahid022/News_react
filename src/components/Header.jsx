import React, { useState } from 'react'
import { CgMenuLeftAlt } from "react-icons/cg";
import { Link } from 'react-router-dom';
import { CiBookmark } from "react-icons/ci";
import { FaFacebookSquare, FaInstagramSquare, FaLinkedin, FaSearch, FaMoon } from "react-icons/fa";
import { useGetAllCategoryQuery } from '../store/api';
import { nanoid } from '@reduxjs/toolkit';
import SearchInputGroup from './SearchInputGroup';

function Header() {

    const { data } = useGetAllCategoryQuery()
    const [flag , setFlag] = useState(false)

    return (
        <>
            <SearchInputGroup flag={flag} setFlag={setFlag} />
            <header className='bg-white border-b z-[900] border-[#232323] sticky top-0'>
                <div className="container mx-auto px-4 2xl:w-[1300px]">
                    <div className='py-5 flex items-center'>
                        <div className='w-4/12'>
                            <button>
                                <CgMenuLeftAlt className='text-[22px]' />
                            </button>
                        </div>
                        <div className='w-4/12 flex items-center justify-center'>
                            <Link to={"/"}>
                                <svg
                                    viewBox="0 0 91 56"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                    className="w-[80px] text-dark dark:text-white "
                                >
                                    <path
                                        d="M73.525 8.607c0 1.195.408 2.083 1.224 2.666.815.553 1.762 1.034 2.84 1.442a12.91 12.91 0 013.365 1.835c1.02.728 1.529 1.937 1.529 3.627v7.035c-.087 1.486-.626 2.724-1.617 3.714-.961.961-2.17 1.442-3.627 1.442h-3.714c-1.107 0-2.258-.306-3.452-.918-1.194-.64-1.791-1.602-1.791-2.883v-8.39h5.243v8.564c0 .816.306 1.37.918 1.66.64.292 1.267.307 1.879.044.611-.29.917-.859.917-1.704v-8.783c0-1.281-.48-2.257-1.442-2.927a13.386 13.386 0 00-3.015-1.705c-3-.99-4.5-3.073-4.5-6.248V5.024c0-1.398.524-2.578 1.573-3.54 1.078-.96 2.301-1.441 3.67-1.441h3.714c1.107 0 2.258.32 3.452.96 1.195.642 1.792 1.589 1.792 2.841v5.288h-5.244V3.669c0-.844-.306-1.412-.917-1.704-.612-.291-1.238-.291-1.88 0-.611.262-.917.83-.917 1.704v4.938zM52.872 27.134c-.67 1.748-1.938 2.782-3.802 3.103-1.835.32-3.612.03-5.33-.874-1.72-.903-2.579-2.272-2.579-4.107V.043h5.2v26.261c0 1.02.32 1.66.961 1.923.67.262 1.326.16 1.966-.306.67-.495 1.006-1.325 1.006-2.49V.042h5.156V25.43c0 1.166.32 1.996.961 2.491.67.466 1.326.568 1.966.306.641-.262.962-.903.962-1.923V.043h5.243v25.213c0 1.835-.859 3.204-2.578 4.107-1.718.903-3.51 1.194-5.374.874-1.836-.32-3.088-1.355-3.758-3.102zm-24.716-.393c0 .554.175 1.005.524 1.355.35.35.787.524 1.31.524h2.098V18.177h5.2v12.191h-9.132c-1.428 0-2.666-.495-3.714-1.486-1.02-1.02-1.53-2.243-1.53-3.67V5.199c0-1.428.51-2.637 1.53-3.627C25.49.552 26.728.042 28.155.042h9.132v9.09h-5.2V1.79H29.99c-.524 0-.961.175-1.311.525-.35.35-.524.801-.524 1.354v8.39h6.554v3.846c-.582-.787-1.383-1.413-2.403-1.88-1.02-.495-1.967-.67-2.84-.524-.874.146-1.311.758-1.311 1.835v11.405zm-9.383 3.627H13.53v-18.44c0-1.544-.292-3.131-.874-4.763-.583-1.66-1.53-2.87-2.84-3.627v26.83H4.571V.086C6.174-.176 7.82.16 9.51 1.091c1.69.933 3.03 2.025 4.02 3.278V.043h5.243v30.325z"
                                        fill="#000"
                                    />
                                    <path
                                        d="M81.02 45.078c-.529 0-.902-.187-1.151-.467-.25-.28-.342-.716-.342-1.182 0-.934.373-2.116.995-3.206.872-1.649 2.21-3.142 3.33-3.453.187-.063.342-.063.498-.063.653 0 1.151.405 1.462 1.463v.062a.468.468 0 01-.342.467c-.062.03-.156.03-.218.03a.503.503 0 01-.435-.28c-.156-.31-.343-.435-.56-.435a.709.709 0 00-.343.094c-.778.342-1.618 1.4-2.21 2.551-.404.84-.684 1.68-.684 2.272 0 .218.031.404.094.56.093.218.31.311.684.311.498 0 1.183-.218 2.303-.778 1.4-.84 3.267-2.21 5.725-4.263a.502.502 0 01.28-.093.5.5 0 01.343.155.5.5 0 01-.062.654c-2.428 2.053-4.357 3.423-5.882 4.325l-.746.404c-1.183.592-2.085.872-2.739.872z"
                                        fill="#000"
                                        fillOpacity=".26"
                                    />
                                    <path
                                        d="M76.358 36.085a.4.4 0 01-.311-.124c-.187-.218-.311-.374-.343-.498v-.125c0-.124.032-.249.094-.342a.43.43 0 01.342-.187h.125c.124 0 .248.031.342.094a.39.39 0 01.28.373.353.353 0 01-.093.249l.03.124a.394.394 0 01-.124.28.5.5 0 01-.342.156zm-.871 9.335l-.187-.031c-.56-.156-.934-.778-.934-2.21 0-1.057.218-2.52.654-4.543l.031-.03c.124-.467.342-.654.591-.654l.187.031a.644.644 0 01.436.311l.03.031a.6.6 0 01.094.311l.031.187a.468.468 0 01-.124.343c-.374 1.836-.592 3.174-.592 4.014 0 .28.032.466.063.653.03.187.124.25.249.25.964 0 3.983-4.357 4.138-4.575.187-.28.374-.498.498-.654.062-.124.218-.186.373-.186.094 0 .187.03.25.093a.444.444 0 01.186.373.502.502 0 01-.093.28l-.467.623c-.778 1.12-3.703 5.383-5.414 5.383z"
                                        fill="#000"
                                        fillOpacity=".26"
                                    />
                                    <path
                                        d="M53.49 51.395l-.312-.032c-.311-.124-.498-.373-.56-.746v-.187c0-.249.031-.498.155-.809.405-1.151 1.68-2.956 4.046-4.917.715-.622 1.556-1.275 2.396-1.929 0-.498-.125-.933-.436-1.307-.28-.28-.653-.56-1.182-.747-.654-.217-1.307-.248-1.898-.248h-.654l-.529.03c-.404 0-.716-.062-.965-.155-.373-.156-.56-.436-.56-.84 0-.311.094-.685.312-1.183l.03-.062c.405-.778.779-1.151 1.12-1.244.094-.032.156-.032.25-.032.186 0 .342.063.467.187l.03.031c.125.125.218.342.25.591 0 .343-.187.81-.623 1.09-.03.03-.062.03-.093.03 0 .094.031.156.124.187.218.094.623.125 1.12.156.716.062 1.619.093 2.583.404a3.1 3.1 0 01.965.467c.56.405.871.965.965 1.587l.03.062a27.49 27.49 0 011.277-.964c.84-.654 1.649-1.245 2.271-1.774l.28-.778.031-.062c.343-.716.716-1.027 1.027-1.12.094-.031.156-.031.25-.031.186 0 .341.062.466.186.155.156.218.343.249.56 0 .343-.156.81-.56 1.058l-.094.032c0 .062.031.093.094.093.186.093.56.124.995.155.685.032 1.494.094 2.397.343.342.124.653.249.902.435.498.405.778.903.902 1.494.374-.311.747-.591 1.12-.871a81.83 81.83 0 002.303-1.774.502.502 0 01.28-.093.43.43 0 01.343.186.501.501 0 01.093.28.5.5 0 01-.156.343c-.56.435-1.369 1.089-2.302 1.773l-1.712 1.307c-.031.218-.093.405-.155.623-.28.964-.872 1.991-1.556 2.925-1.183 1.836-2.894 3.485-3.952 3.983l-.031.03c-.28.125-.53.188-.747.188-.094 0-.187 0-.28-.032-.311-.124-.498-.373-.56-.715v-.125c0-.249.062-.498.124-.809.405-1.027 1.587-2.707 3.734-4.512.654-.56 1.4-1.151 2.21-1.742-.031-.467-.156-.84-.405-1.152a2.348 2.348 0 00-1.089-.684c-.591-.187-1.214-.218-1.774-.218H65.47c-.342 0-.653 0-.87-.125-.125-.062-.219-.093-.28-.186l-1.961 1.493c-.592.498-1.245.965-1.898 1.463a7.488 7.488 0 01-.156.716c-.311 1.026-.934 2.147-1.68 3.142-1.307 1.992-3.174 3.797-4.326 4.357h-.03c-.28.155-.56.218-.779.218zm.03-.903s.28-.062.374-.124c1.058-.498 2.77-2.178 3.983-4.046.466-.715.871-1.462 1.12-2.209a25.78 25.78 0 00-1.587 1.276c-2.24 1.836-3.423 3.516-3.796 4.543a1.537 1.537 0 00-.094.467v.093zm11.078-1.089c.623 0 2.738-1.96 3.92-3.796.405-.623.748-1.276.966-1.898-2.863 2.24-4.357 4.014-4.792 5.227a1.975 1.975 0 00-.094.467z"
                                        fill="#000"
                                        fillOpacity=".26"
                                    />
                                    <path
                                        d="M45.964 45.264l-.217-.03c-.56-.063-.996-.467-1.183-1.152a4.631 4.631 0 01-.124-1.027c0-.404.062-.871.124-1.4-.591.747-2.8 3.33-4.17 3.33a.845.845 0 01-.529-.187c-.28-.218-.373-.592-.373-1.12 0-.623.187-1.432.498-2.24.529-1.339 1.462-2.833 2.52-3.642.56-.466 1.183-.715 1.774-.715.654 0 1.307.31 1.898 1.058a.925.925 0 01.156.466c0 .218-.093.343-.25.467a.744.744 0 01-.28.062l-.186-.03a2.142 2.142 0 01-.529-.405c-.031-.063-.093-.094-.093-.156a.96.96 0 00-.405-.093c-.404 0-.84.218-1.245.591-.777.716-1.555 1.805-2.022 2.832-.342.715-.56 1.369-.56 1.742l.062.218h.031c.125 0 .374-.124.934-.56.871-.716 2.551-2.707 3.267-3.64a.711.711 0 01.591-.312c.28 0 .53.187.53.467l-.032.156c-.342 1.306-.498 2.302-.498 3.018 0 .28.031.529.063.715.062.312.155.467.28.53l.217.062c.125 0 .81-.25.84-.28.716-.343 1.525-.903 2.397-1.774l.03-.031c.996-.902 2.023-2.054 2.988-3.236a.5.5 0 01.342-.156.5.5 0 01.28.093.43.43 0 01.187.343.502.502 0 01-.093.28c-.996 1.213-2.054 2.396-3.081 3.36-.031 0-.031 0-.031.032-1.058.933-2.023 1.68-2.832 2.022-.467.218-.871.343-1.276.343z"
                                        fill="#000"
                                        fillOpacity=".26"
                                    />
                                    <path
                                        d="M33.39 22.798c.094-1.463.498-2.458.84-2.925.187-.187.343-.343.499-.374.093-.03.155-.03.217-.03.187 0 .374.093.498.28.125.155.218.404.218.777 0 .094-.031.187-.031.311 0 .063-.031.094-.031.125-.871 2.52-1.618 5.85-2.24 9.335-.747 4.325-1.307 8.9-1.619 12.478-.155 1.587-.218 2.8-.218 3.765 0 1.867.28 2.614.685 2.645h.031c1.743 0 7.655-8.868 8.806-10.362a.43.43 0 01.623-.093.43.43 0 01.186.342.502.502 0 01-.093.28c-1.898 2.552-7.468 11.42-9.926 11.42h-.094c-1.089-.093-1.711-1.493-1.711-4.854 0-.965.031-2.116.155-3.454.312-3.61.872-8.215 1.68-12.571.436-2.52.934-4.948 1.526-7.095zm-4.887.684v.032c0 .28-.186.435-.466.435-.53 0-1.338-.591-1.338-1.96 0-.218.124-.374.31-.467a10.126 10.126 0 00-.217-.933c-.498-1.805-1.307-3.081-2.427-3.89-1.027-.778-2.303-1.12-3.703-1.12H20.6c-2.552.217-5.508 1.587-8.34 4.014-2.614 2.271-5.134 5.476-7.126 9.428-2.52 5.041-3.61 9.615-3.61 13.474 0 1.712.187 3.267.592 4.668.467 1.618 1.151 3.05 2.054 4.2.871 1.152 1.96 2.054 3.174 2.645a9.041 9.041 0 004.076.965c.965 0 1.96-.155 2.987-.435 4.98-1.525 10.456-6.38 14.874-15.59a.496.496 0 01.436-.25c.062 0 .125 0 .187.032a.497.497 0 01.249.436c0 .062 0 .124-.031.186-4.544 9.429-10.238 14.47-15.435 16.057h-.03c-.654.218-1.308.373-1.93.467-.56.093-1.12.124-1.68.124-1.618 0-3.174-.342-4.543-1.027-1.868-.871-3.423-2.365-4.544-4.325C.716 48.5 0 45.793 0 42.558c0-3.984 1.12-8.714 3.734-13.941 3.143-6.255 7.655-10.58 11.918-12.634a15.348 15.348 0 012.427-.902s.031-.031.093-.031c.592-.156 1.183-.28 1.743-.343.373-.03.747-.03 1.12-.03h.436c1.836.124 3.454.808 4.668 2.115 1.369 1.463 2.24 3.64 2.364 6.69z"
                                        fill="#000"
                                        fillOpacity=".26"
                                    />
                                </svg>
                            </Link>
                        </div>
                        <div className='w-4/12 flex gap-5 items-center justify-end'>
                            <div className='flex items-center gap-1'>
                                <button className=' relative flex items-center justify-center h-8 w-8 border rounded-[50%]'>
                                    <CiBookmark className='text-[20px]' />
                                </button>
                                <span className='text-[15px] bg-[#FFA914] flex items-center justify-center px-2 rounded-[50px]'>0</span>
                            </div>
                            <div className='lg:flex hidden items-center gap-2'>
                                <button className=' relative flex items-center justify-center h-8 w-8 border rounded-[50%]'>
                                    <FaFacebookSquare className='text-[20px]' />
                                </button>
                                <button className=' relative flex items-center justify-center h-8 w-8 border rounded-[50%]'>
                                    <FaInstagramSquare className='text-[20px]' />
                                </button>
                                <button className=' relative flex items-center justify-center h-8 w-8 border rounded-[50%]'>
                                    <FaLinkedin className='text-[20px]' />
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <nav className='bg-[#191919] py-5'>
                    <div className="container mx-auto px-4 2xl:w-[1300px]">
                        <div className='flex justify-between items-center'>
                            <div>
                                <button onClick={() => setFlag(!flag)} className='text-white text-[16px] md:text-[18px] lg:text-[20px]'>
                                    <FaSearch />
                                </button>
                            </div>
                            <div>
                                <ul className='flex justify-center items-center text-white gap-2 md:gap-3'>
                                    {data?.map(item => {
                                        return <li className='text-[12px] md:text-[16px]' key={nanoid()}>
                                            <Link to={`category/${item._id}`}>
                                                {item.name}
                                            </Link>
                                        </li>
                                    })}
                                </ul>
                            </div>
                            <div>
                                <button className='text-white text-[16px] md:text-[18px] lg:text-[20px]'>
                                    <FaMoon />
                                </button>
                            </div>
                        </div>
                    </div>
                </nav>
            </header>
        </>
    )
}

export default Header